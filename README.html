<!DOCTYPE html><html><head><meta charset="utf-8"><style>body {
  width: 45em;
  border: 1px solid #ddd;
  outline: 1300px solid #fff;
  margin: 16px auto;
}

body .markdown-body
{
  padding: 30px;
}

@font-face {
  font-family: fontawesome-mini;
  src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}

@font-face {
  font-family: octicons-anchor;
  src: url(data:font/woff;charset=utf-8;base64,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) format('woff');
}

.markdown-body {
  font-family: sans-serif;
  -ms-text-size-adjust: 100%;
  -webkit-text-size-adjust: 100%;
  color: #333333;
  overflow: hidden;
  font-family: "Helvetica Neue", Helvetica, "Segoe UI", Arial, freesans, sans-serif;
  font-size: 16px;
  line-height: 1.6;
  word-wrap: break-word;
}

.markdown-body a {
  background: transparent;
}

.markdown-body a:active,
.markdown-body a:hover {
  outline: 0;
}

.markdown-body b,
.markdown-body strong {
  font-weight: bold;
}

.markdown-body mark {
  background: #ff0;
  color: #000;
  font-style: italic;
  font-weight: bold;
}

.markdown-body sub,
.markdown-body sup {
  font-size: 75%;
  line-height: 0;
  position: relative;
  vertical-align: baseline;
}
.markdown-body sup {
  top: -0.5em;
}
.markdown-body sub {
  bottom: -0.25em;
}

.markdown-body h1 {
  font-size: 2em;
  margin: 0.67em 0;
}

.markdown-body img {
  border: 0;
}

.markdown-body hr {
  -moz-box-sizing: content-box;
  box-sizing: content-box;
  height: 0;
}

.markdown-body pre {
  overflow: auto;
}

.markdown-body code,
.markdown-body kbd,
.markdown-body pre,
.markdown-body samp {
  font-family: monospace, monospace;
  font-size: 1em;
}

.markdown-body input {
  color: inherit;
  font: inherit;
  margin: 0;
}

.markdown-body html input[disabled] {
  cursor: default;
}

.markdown-body input {
  line-height: normal;
}

.markdown-body input[type="checkbox"] {
  box-sizing: border-box;
  padding: 0;
}

.markdown-body table {
  border-collapse: collapse;
  border-spacing: 0;
}

.markdown-body td,
.markdown-body th {
  padding: 0;
}

.markdown-body .codehilitetable {
  border: 0;
  border-spacing: 0;
}

.markdown-body .codehilitetable tr {
  border: 0;
}

.markdown-body .codehilitetable pre,
.markdown-body .codehilitetable div.codehilite {
  margin: 0;
}

.markdown-body .linenos,
.markdown-body .code,
.markdown-body .codehilitetable td {
  border: 0;
  padding: 0;
}

.markdown-body td:not(.linenos) .linenodiv {
  padding: 0 !important;
}

.markdown-body .code {
  width: 100%;
}

.markdown-body .linenos div pre,
.markdown-body .linenodiv pre,
.markdown-body .linenodiv {
  border: 0;
  -webkit-border-radius: 0;
  -moz-border-radius: 0;
  border-radius: 0;
  -webkit-border-top-left-radius: 3px;
  -webkit-border-bottom-left-radius: 3px;
  -moz-border-radius-topleft: 3px;
  -moz-border-radius-bottomleft: 3px;
  border-top-left-radius: 3px;
  border-bottom-left-radius: 3px;
}

.markdown-body .code div pre,
.markdown-body .code div {
  border: 0;
  -webkit-border-radius: 0;
  -moz-border-radius: 0;
  border-radius: 0;
  -webkit-border-top-right-radius: 3px;
  -webkit-border-bottom-right-radius: 3px;
  -moz-border-radius-topright: 3px;
  -moz-border-radius-bottomright: 3px;
  border-top-right-radius: 3px;
  border-bottom-right-radius: 3px;
}

.markdown-body * {
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body input {
  font: 13px Helvetica, arial, freesans, clean, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol";
  line-height: 1.4;
}

.markdown-body a {
  color: #4183c4;
  text-decoration: none;
}

.markdown-body a:hover,
.markdown-body a:focus,
.markdown-body a:active {
  text-decoration: underline;
}

.markdown-body hr {
  height: 0;
  margin: 15px 0;
  overflow: hidden;
  background: transparent;
  border: 0;
  border-bottom: 1px solid #ddd;
}

.markdown-body hr:before,
.markdown-body hr:after {
  display: table;
  content: " ";
}

.markdown-body hr:after {
  clear: both;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  margin-top: 15px;
  margin-bottom: 15px;
  line-height: 1.1;
}

.markdown-body h1 {
  font-size: 30px;
}

.markdown-body h2 {
  font-size: 21px;
}

.markdown-body h3 {
  font-size: 16px;
}

.markdown-body h4 {
  font-size: 14px;
}

.markdown-body h5 {
  font-size: 12px;
}

.markdown-body h6 {
  font-size: 11px;
}

.markdown-body blockquote {
  margin: 0;
}

.markdown-body ul,
.markdown-body ol {
  padding: 0;
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body ol ol,
.markdown-body ul ol {
  list-style-type: lower-roman;
}

.markdown-body ul ul ol,
.markdown-body ul ol ol,
.markdown-body ol ul ol,
.markdown-body ol ol ol {
  list-style-type: lower-alpha;
}

.markdown-body dd {
  margin-left: 0;
}

.markdown-body code,
.markdown-body pre,
.markdown-body samp {
  font-family: Consolas, "Liberation Mono", Menlo, Courier, monospace;
  font-size: 12px;
}

.markdown-body pre {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body kbd {
  background-color: #e7e7e7;
  background-image: -moz-linear-gradient(#fefefe, #e7e7e7);
  background-image: -webkit-linear-gradient(#fefefe, #e7e7e7);
  background-image: linear-gradient(#fefefe, #e7e7e7);
  background-repeat: repeat-x;
  border-radius: 2px;
  border: 1px solid #cfcfcf;
  color: #000;
  padding: 3px 5px;
  line-height: 10px;
  font: 11px Consolas, "Liberation Mono", Menlo, Courier, monospace;
  display: inline-block;
}

.markdown-body>*:first-child {
  margin-top: 0 !important;
}

.markdown-body>*:last-child {
  margin-bottom: 0 !important;
}

.markdown-body .headeranchor-link {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  display: block;
  padding-right: 6px;
  padding-left: 30px;
  margin-left: -30px;
}

.markdown-body .headeranchor-link:focus {
  outline: none;
}

.markdown-body h1,
.markdown-body h2,
.markdown-body h3,
.markdown-body h4,
.markdown-body h5,
.markdown-body h6 {
  position: relative;
  margin-top: 1em;
  margin-bottom: 16px;
  font-weight: bold;
  line-height: 1.4;
}

.markdown-body h1 .headeranchor,
.markdown-body h2 .headeranchor,
.markdown-body h3 .headeranchor,
.markdown-body h4 .headeranchor,
.markdown-body h5 .headeranchor,
.markdown-body h6 .headeranchor {
  display: none;
  color: #000;
  vertical-align: middle;
}

.markdown-body h1:hover .headeranchor-link,
.markdown-body h2:hover .headeranchor-link,
.markdown-body h3:hover .headeranchor-link,
.markdown-body h4:hover .headeranchor-link,
.markdown-body h5:hover .headeranchor-link,
.markdown-body h6:hover .headeranchor-link {
  height: 1em;
  padding-left: 8px;
  margin-left: -30px;
  line-height: 1;
  text-decoration: none;
}

.markdown-body h1:hover .headeranchor-link .headeranchor,
.markdown-body h2:hover .headeranchor-link .headeranchor,
.markdown-body h3:hover .headeranchor-link .headeranchor,
.markdown-body h4:hover .headeranchor-link .headeranchor,
.markdown-body h5:hover .headeranchor-link .headeranchor,
.markdown-body h6:hover .headeranchor-link .headeranchor {
  display: inline-block;
}

.markdown-body h1 {
  padding-bottom: 0.3em;
  font-size: 2.25em;
  line-height: 1.2;
  border-bottom: 1px solid #eee;
}

.markdown-body h2 {
  padding-bottom: 0.3em;
  font-size: 1.75em;
  line-height: 1.225;
  border-bottom: 1px solid #eee;
}

.markdown-body h3 {
  font-size: 1.5em;
  line-height: 1.43;
}

.markdown-body h4 {
  font-size: 1.25em;
}

.markdown-body h5 {
  font-size: 1em;
}

.markdown-body h6 {
  font-size: 1em;
  color: #777;
}

.markdown-body p,
.markdown-body blockquote,
.markdown-body ul,
.markdown-body ol,
.markdown-body dl,
.markdown-body table,
.markdown-body pre,
.markdown-body .admonition {
  margin-top: 0;
  margin-bottom: 16px;
}

.markdown-body hr {
  height: 4px;
  padding: 0;
  margin: 16px 0;
  background-color: #e7e7e7;
  border: 0 none;
}

.markdown-body ul,
.markdown-body ol {
  padding-left: 2em;
}

.markdown-body ul ul,
.markdown-body ul ol,
.markdown-body ol ol,
.markdown-body ol ul {
  margin-top: 0;
  margin-bottom: 0;
}

.markdown-body li>p {
  margin-top: 16px;
}

.markdown-body dl {
  padding: 0;
}

.markdown-body dl dt {
  padding: 0;
  margin-top: 16px;
  font-size: 1em;
  font-style: italic;
  font-weight: bold;
}

.markdown-body dl dd {
  padding: 0 16px;
  margin-bottom: 16px;
}

.markdown-body blockquote {
  padding: 0 15px;
  color: #777;
  border-left: 4px solid #ddd;
}

.markdown-body blockquote>:first-child {
  margin-top: 0;
}

.markdown-body blockquote>:last-child {
  margin-bottom: 0;
}

.markdown-body table {
  display: block;
  width: 100%;
  overflow: auto;
  word-break: normal;
  word-break: keep-all;
}

.markdown-body table th {
  font-weight: bold;
}

.markdown-body table th,
.markdown-body table td {
  padding: 6px 13px;
  border: 1px solid #ddd;
}

.markdown-body table tr {
  background-color: #fff;
  border-top: 1px solid #ccc;
}

.markdown-body table tr:nth-child(2n) {
  background-color: #f8f8f8;
}

.markdown-body img {
  max-width: 100%;
  -moz-box-sizing: border-box;
  box-sizing: border-box;
}

.markdown-body code,
.markdown-body samp {
  padding: 0;
  padding-top: 0.2em;
  padding-bottom: 0.2em;
  margin: 0;
  font-size: 85%;
  background-color: rgba(0,0,0,0.04);
  border-radius: 3px;
}

.markdown-body code:before,
.markdown-body code:after {
  letter-spacing: -0.2em;
  content: "\00a0";
}

.markdown-body pre>code {
  padding: 0;
  margin: 0;
  font-size: 100%;
  word-break: normal;
  white-space: pre;
  background: transparent;
  border: 0;
}

.markdown-body .codehilite {
  margin-bottom: 16px;
}

.markdown-body .codehilite pre,
.markdown-body pre {
  padding: 16px;
  overflow: auto;
  font-size: 85%;
  line-height: 1.45;
  background-color: #f7f7f7;
  border-radius: 3px;
}

.markdown-body .codehilite pre {
  margin-bottom: 0;
  word-break: normal;
}

.markdown-body pre {
  word-wrap: normal;
}

.markdown-body pre code {
  display: inline;
  max-width: initial;
  padding: 0;
  margin: 0;
  overflow: initial;
  line-height: inherit;
  word-wrap: normal;
  background-color: transparent;
  border: 0;
}

.markdown-body pre code:before,
.markdown-body pre code:after {
  content: normal;
}

/* Admonition */
.markdown-body .admonition {
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  position: relative;
  border-radius: 3px;
  border: 1px solid #e0e0e0;
  border-left: 6px solid #333;
  padding: 10px 10px 10px 30px;
}

.markdown-body .admonition table {
  color: #333;
}

.markdown-body .admonition p {
  padding: 0;
}

.markdown-body .admonition-title {
  font-weight: bold;
  margin: 0;
}

.markdown-body .admonition>.admonition-title {
  color: #333;
}

.markdown-body .attention>.admonition-title {
  color: #a6d796;
}

.markdown-body .caution>.admonition-title {
  color: #d7a796;
}

.markdown-body .hint>.admonition-title {
  color: #96c6d7;
}

.markdown-body .danger>.admonition-title {
  color: #c25f77;
}

.markdown-body .question>.admonition-title {
  color: #96a6d7;
}

.markdown-body .note>.admonition-title {
  color: #d7c896;
}

.markdown-body .admonition:before,
.markdown-body .attention:before,
.markdown-body .caution:before,
.markdown-body .hint:before,
.markdown-body .danger:before,
.markdown-body .question:before,
.markdown-body .note:before {
  font: normal normal 16px fontawesome-mini;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
  line-height: 1.5;
  color: #333;
  position: absolute;
  left: 0;
  top: 0;
  padding-top: 10px;
  padding-left: 10px;
}

.markdown-body .admonition:before {
  content: "\f056\00a0";
  color: 333;
}

.markdown-body .attention:before {
  content: "\f058\00a0";
  color: #a6d796;
}

.markdown-body .caution:before {
  content: "\f06a\00a0";
  color: #d7a796;
}

.markdown-body .hint:before {
  content: "\f05a\00a0";
  color: #96c6d7;
}

.markdown-body .danger:before {
  content: "\f057\00a0";
  color: #c25f77;
}

.markdown-body .question:before {
  content: "\f059\00a0";
  color: #96a6d7;
}

.markdown-body .note:before {
  content: "\f040\00a0";
  color: #d7c896;
}

.markdown-body .admonition::after {
  content: normal;
}

.markdown-body .attention {
  border-left: 6px solid #a6d796;
}

.markdown-body .caution {
  border-left: 6px solid #d7a796;
}

.markdown-body .hint {
  border-left: 6px solid #96c6d7;
}

.markdown-body .danger {
  border-left: 6px solid #c25f77;
}

.markdown-body .question {
  border-left: 6px solid #96a6d7;
}

.markdown-body .note {
  border-left: 6px solid #d7c896;
}

.markdown-body .admonition>*:first-child {
  margin-top: 0 !important;
}

.markdown-body .admonition>*:last-child {
  margin-bottom: 0 !important;
}

/* progress bar*/
.markdown-body .progress {
  display: block;
  width: 300px;
  margin: 10px 0;
  height: 24px;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  background-color: #ededed;
  position: relative;
  box-shadow: inset -1px 1px 3px rgba(0, 0, 0, .1);
}

.markdown-body .progress-label {
  position: absolute;
  text-align: center;
  font-weight: bold;
  width: 100%; margin: 0;
  line-height: 24px;
  color: #333;
  text-shadow: 1px 1px 0 #fefefe, -1px -1px 0 #fefefe, -1px 1px 0 #fefefe, 1px -1px 0 #fefefe, 0 1px 0 #fefefe, 0 -1px 0 #fefefe, 1px 0 0 #fefefe, -1px 0 0 #fefefe, 1px 1px 2px #000;
  -webkit-font-smoothing: antialiased !important;
  white-space: nowrap;
  overflow: hidden;
}

.markdown-body .progress-bar {
  height: 24px;
  float: left;
  -webkit-border-radius: 3px;
  -moz-border-radius: 3px;
  border-radius: 3px;
  background-color: #96c6d7;
  box-shadow: inset 0 1px 0 rgba(255, 255, 255, .5), inset 0 -1px 0 rgba(0, 0, 0, .1);
  background-size: 30px 30px;
  background-image: -webkit-linear-gradient(
    135deg, rgba(255, 255, 255, .4) 27%,
    transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%,
    transparent 77%, transparent
  );
  background-image: -moz-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: -ms-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: -o-linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
  background-image: linear-gradient(
    135deg,
    rgba(255, 255, 255, .4) 27%, transparent 27%,
    transparent 52%, rgba(255, 255, 255, .4) 52%,
    rgba(255, 255, 255, .4) 77%, transparent 77%,
    transparent
  );
}

.markdown-body .progress-100plus .progress-bar {
  background-color: #a6d796;
}

.markdown-body .progress-80plus .progress-bar {
  background-color: #c6d796;
}

.markdown-body .progress-60plus .progress-bar {
  background-color: #d7c896;
}

.markdown-body .progress-40plus .progress-bar {
  background-color: #d7a796;
}

.markdown-body .progress-20plus .progress-bar {
  background-color: #d796a6;
}

.markdown-body .progress-0plus .progress-bar {
  background-color: #c25f77;
}

.markdown-body .candystripe-animate .progress-bar{
  -webkit-animation: animate-stripes 3s linear infinite;
  -moz-animation: animate-stripes 3s linear infinite;
  animation: animate-stripes 3s linear infinite;
}

@-webkit-keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

@-moz-keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

@keyframes animate-stripes {
  0% {
    background-position: 0 0;
  }

  100% {
    background-position: 60px 0;
  }
}

.markdown-body .gloss .progress-bar {
  box-shadow:
    inset 0 4px 12px rgba(255, 255, 255, .7),
    inset 0 -12px 0 rgba(0, 0, 0, .05);
}

/* Multimarkdown Critic Blocks */
.markdown-body .critic_mark {
  background: #ff0;
}

.markdown-body .critic_delete {
  color: #c82829;
  text-decoration: line-through;
}

.markdown-body .critic_insert {
  color: #718c00 ;
  text-decoration: underline;
}

.markdown-body .critic_comment {
  color: #8e908c;
  font-style: italic;
}

.markdown-body .headeranchor {
  font: normal normal 16px octicons-anchor;
  line-height: 1;
  display: inline-block;
  text-decoration: none;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

.headeranchor:before {
  content: '\f05c';
}

.markdown-body .task-list-item {
  list-style-type: none;
}

.markdown-body .task-list-item+.task-list-item {
  margin-top: 3px;
}

.markdown-body .task-list-item input {
  margin: 0 4px 0.25em -20px;
  vertical-align: middle;
}

/* Media */
@media only screen and (min-width: 480px) {
  .markdown-body {
    font-size:14px;
  }
}

@media only screen and (min-width: 768px) {
  .markdown-body {
    font-size:16px;
  }
}

@media print {
  .markdown-body * {
    background: transparent !important;
    color: black !important;
    filter:none !important;
    -ms-filter: none !important;
  }

  .markdown-body {
    font-size:12pt;
    max-width:100%;
    outline:none;
    border: 0;
  }

  .markdown-body a,
  .markdown-body a:visited {
    text-decoration: underline;
  }

  .markdown-body .headeranchor-link {
    display: none;
  }

  .markdown-body a[href]:after {
    content: " (" attr(href) ")";
  }

  .markdown-body abbr[title]:after {
    content: " (" attr(title) ")";
  }

  .markdown-body .ir a:after,
  .markdown-body a[href^="javascript:"]:after,
  .markdown-body a[href^="#"]:after {
    content: "";
  }

  .markdown-body pre {
    white-space: pre;
    white-space: pre-wrap;
    word-wrap: break-word;
  }

  .markdown-body pre,
  .markdown-body blockquote {
    border: 1px solid #999;
    padding-right: 1em;
    page-break-inside: avoid;
  }

  .markdown-body .progress,
  .markdown-body .progress-bar {
    -moz-box-shadow: none;
    -webkit-box-shadow: none;
    box-shadow: none;
  }

  .markdown-body .progress {
    border: 1px solid #ddd;
  }

  .markdown-body .progress-bar {
    height: 22px;
    border-right: 1px solid #ddd;
  }

  .markdown-body tr,
  .markdown-body img {
    page-break-inside: avoid;
  }

  .markdown-body img {
    max-width: 100% !important;
  }

  .markdown-body p,
  .markdown-body h2,
  .markdown-body h3 {
    orphans: 3;
    widows: 3;
  }

  .markdown-body h2,
  .markdown-body h3 {
    page-break-after: avoid;
  }
}
</style><title>README</title></head><body><article class="markdown-body"><h1 id="munit-helpers"><a name="user-content-munit-helpers" href="#munit-helpers" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Munit Helpers</h1>
<p><a href="https://travis-ci.org/tulip/munit-helpers"><img alt="Build Status" src="https://travis-ci.org/tulip/munit-helpers.svg?branch=master" /></a></p>
<p><a href="https://codeclimate.com/github/tulip/munit-helpers"><img alt="Code Climate" src="https://codeclimate.com/github/tulip/munit-helpers/badges/gpa.svg" /></a></p>
<p>Munit Helpers is a suite of Meteor package-testing tools, integrated with the excellent <a href="https://github.com/practicalmeteor/meteor-munit">Munit</a> unit testing framework.</p>
<p>Munit Helpers includes:</p>
<ul>
<li>Easy stubbing of authentication and collections.</li>
<li>Easy rendering and testing of Blaze templates.</li>
<li>Utilities for testing Meteor methods, publications and allow/deny rules.</li>
<li>Clean, documented APIs wrapping the testing utilities in the <a href="https://github.com/meteor/meteor/tree/devel/packages/test-helpers">Meteor codebase itself</a></li>
<li>A few other useful tools for testing Meteor apps and packages.</li>
</ul>
<h1 id="whos-behind-it"><a name="user-content-whos-behind-it" href="#whos-behind-it" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Who&rsquo;s Behind It</h1>
<p>Munit Helpers is maintained by Tulip. We&rsquo;re an MIT startup located in Boston, helping enterprises manage, understand, and improve their manufacturing operations. We bring our customers modern web-native user experiences to the challenging world of manufacturing, currently dominated by ancient enterprise IT technology. We work on Meteor web apps, embedded software, computer vision, and anything else we can use to introduce digital transformation to the world of manufacturing. If these sound like interesting problems to you, <a href="mailto:jobs@tulip.co">we should talk</a>.</p>
<h1 id="get-started"><a name="user-content-get-started" href="#get-started" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Get Started</h1>
<p>To use Munit Helpers to test a package, just add <code>api.use(["tulip:munit-helpers"])</code> in your <code>Package.onTest</code> block.</p>
<h1 id="included-libraries"><a name="user-content-included-libraries" href="#included-libraries" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Included Libraries</h1>
<p>The Munit Helpers implies the Munit package &ndash; so by adding Munit Helpers, you&rsquo;ll automatically have access to the APIs the Munit provides:</p>
<ul>
<li><a href="https://github.com/practicalmeteor/meteor-munit">Munit</a>: Friendly BDD and TDD interfaces to Meteor&rsquo;s built-in tinytest.</li>
<li><a href="http://sinonjs.org/">Sinon</a>: Spies stubs and mocks. In general, don&rsquo;t use the sinon API directly; use the <a href="https://github.com/practicalmeteor/meteor-sinon">Meteor-Sinon</a> API instead, as it tracks what stubs you&rsquo;ve made for easy catch-all clean-up.</li>
<li><a href="http://chaijs.com/">Chai</a>: an assertion library.</li>
<li><a href="https://github.com/domenic/sinon-chai">Sinon-Chai</a>: Sinon assertions for chai.</li>
</ul>
<p>Munit Helpers additionally provides the excellent <a href="https://github.com/chaijs/chai-jquery">Chai jQuery</a> library, which provides a number of chai assertions that you can make on jQuery objects.</p>
<h1 id="api"><a name="user-content-api" href="#api" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>API</h1>
<h2 id="restore-all-anywhere"><a name="user-content-restore-all-anywhere" href="#restore-all-anywhere" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Restore All (Anywhere)</h2>
<h5 id="munithelpersrestoreall"><code>MunitHelpers.restoreAll()</code></h5>
<p>Restores all stubs created by any of the methods in <code>MunitHelpers</code>, plus stubs and spies created by <code>stubs.create()</code> and <code>spies.create</code> in Meteor-Sinon. This function can be passed in directly as the <code>tearDown</code> or <code>suiteTearDown</code> property of a test suite passed to <code>Munit.run</code>:</p>
<h2 id="stubproperties-anywhere"><a name="user-content-stubproperties-anywhere" href="#stubproperties-anywhere" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>StubProperties (Anywhere)</h2>
<h5 id="munithelpersstubpropertiesstubobjectobject-propertystring-valueany-function"><code>MunitHelpers.StubProperties.stub(object:Object, property:String, value:Any) -&gt; Function</code></h5>
<p>Sets <code>object[property]</code> to <code>value</code> and returns a function that restores the stub. Calling this function when the stub has already been restored will cause an error. The stubs can also be restored by calling <code>MunitHelpers.restoreAll()</code>.</p>
<p>This method is &ldquo;nestable&rdquo; &ndash; if the property is already stubbed, that stub will be replaced with this one. When the new stub is restored, the old one will be put back in place, unless it&rsquo;s restored with <code>restoreAll</code>, which restores all stubs, even nested ones. Trying to restore the old stub before the new one is restored will cause an error.</p>
<h5 id="munithelpersstubpropertiesrestoreobjectobject-propertystring-valueany"><code>MunitHelpers.StubProperties.restore(object:Object, property:String, value:Any)</code></h5>
<p>Restores the stub of <code>property</code> on <code>object</code> if it exists. Does nothing if that property is not stubbed.</p>
<h5 id="munithelpersstubpropertiesisstubobjectobject-propertystring-boolean"><code>MunitHelpers.StubProperties.isStub(object:Object, property:String) -&gt; Boolean</code></h5>
<p>Returns whether the given property is stubbed.</p>
<h5 id="munithelpersstubpropertiesrestoreall"><code>MunitHelpers.StubProperties.restoreAll()</code></h5>
<p>Restores all changes made by calls to <code>MunitHelpers.StubProperties.stub</code> Note that many of the other methods of Munit Helpers use <code>MunitHelpers.StubProperties</code> internally, so this will restore those stubs as well.</p>
<h2 id="stubdate-anywhere"><a name="user-content-stubdate-anywhere" href="#stubdate-anywhere" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>StubDate (Anywhere)</h2>
<h5 id="munithelpersstubdatestubnownumber"><code>MunitHelpers.StubDate.stub(now:Number)</code></h5>
<p>Override the Javascript Date object to be a stubbed date at a fixed time. Call this again to change the time. Returns a function that restores the stub. The stub can also be restored by calling <code>MunitHelpers.restoreAll()</code>.</p>
<p>This method is an alternative to using <a href="http://sinonjs.org/docs/#clock">sinon&rsquo;s fake timers</a> when you don&rsquo;t want to affect <code>setTimeout</code> and <code>setInterval</code>.</p>
<h2 id="collections-anywhere"><a name="user-content-collections-anywhere" href="#collections-anywhere" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Collections (Anywhere)</h2>
<h5 id="munithelperscollectionsstubcollectioncollection-dontimportexistingoptional-boolean-function"><code>MunitHelpers.Collections.stub(collection:Collection, dontImportExisting:Optional Boolean) -&gt; Function</code></h5>
<p>Stubs all the methods of the given collection so they work with an in-memory minimongo collection instead of the real database. Imports all records from the real collection into the minimongo collection unless the second argument is set to true. Returns a function that undoes the stubbing. The stubs can also be restored by calling <code>MunitHelpers.restoreAll()</code>.</p>
<p>This function is idempotent; if you attempt to stub a collection that&rsquo;s already stubbed, this function will do nothing and return a function that does nothing.</p>
<h5 id="munithelperscollectionsisstubbedcollectioncollection-boolean"><code>MunitHelpers.Collections.isStubbed(collection:Collection) -&gt; Boolean</code></h5>
<p>Returns whether the given collection is stubbed.</p>
<h5 id="munithelperscollectionsrestorecollectioncollection"><code>MunitHelpers.Collections.restore(collection:Collection)</code></h5>
<p>Restores the given collection. Throws an error if the collection is not stubbed. Equivalent to calling the function returned by <code>MunitHelpers.Collections.stub</code>.</p>
<h5 id="munithelperscollectionsrestoreall"><code>MunitHelpers.Collections.restoreAll()</code></h5>
<p>Restores all collections stubbed by <code>MunitHelpers.Collections.stub</code>.</p>
<h2 id="methods-anywhere"><a name="user-content-methods-anywhere" href="#methods-anywhere" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Methods (Anywhere)</h2>
<h5 id="munithelpersmethodsapplymethodstring-argsarray-useroptional-object"><code>MunitHelpers.Methods.apply(method:String, args:Array, user:Optional Object)</code></h5>
<p>Runs the given method with the given arguments. Stubs a log-in of the given user if provided. Returns the return value of the method, or throws an error if the method throws an error.</p>
<p>On the client, this uses the client-side stub of the method. It does not actually call to the server. On the server, this uses the server-side version of the method. In both cases, it runs syncronously, returning a value instead of taking a callback.</p>
<p>WARNING: On the server, this internally uses <code>MunitHelpers.Connection.create</code>, which means it won&rsquo;t work with sinon&rsquo;s fake timers. It does work with <code>MunitHelpers.StubDate.stub</code>.</p>
<h2 id="deepmatch-anywhere"><a name="user-content-deepmatch-anywhere" href="#deepmatch-anywhere" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>DeepMatch (Anywhere)</h2>
<h5 id="munithelpersdeepmatchexpectequalactualany-expectedany"><code>MunitHelpers.DeepMatch.expectEqual(actual:Any, expected:Any)</code></h5>
<p>Deep-diffs <code>actual</code> and <code>expected</code>. Returns <code>undefined</code> if there are no<br />
differences. Uses <a href="">deep-diff</a></p>
<p>If there are differences, returns a description of them. See<br />
[the library&rsquo;s ]</p>
<h2 id="auth-varies"><a name="user-content-auth-varies" href="#auth-varies" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Auth (Varies)</h2>
<h5 id="munithelpersauthstubuseruserrecordobject-function-anywhere"><code>MunitHelpers.Auth.stubUser(userRecord:Object) -&gt; Function</code> (Anywhere)</h5>
<p>Stubs <code>Meteor.users</code> using <code>MunitHelpers.Colletions.stub</code> and inserts the given user record. If the given record does not have an <code>_id</code> field, one will be added. Returns a function that removes the given user from the stubbed <code>Meteor.users</code> collection, and then un-stubs <code>Meteor.users</code> if it was not stubbed before <code>stubUser</code> was called.</p>
<h5 id="munithelpersauthstubloginuserrecordobject-or-null-function-client-only"><code>MunitHelpers.Auth.stubLogin(userRecord:Object or Null) -&gt; Function</code> (Client Only)</h5>
<p>Stubs <code>Meteor.user</code> and <code>Meteor.userId</code> to return the given user (or null). If the given user isn&rsquo;t null and does not have an <code>_id</code> field, an <code>_id</code> field will be added. Returns a function that can be called to restore the stubs. The stubs can also be restored by calling <code>MunitHelpers.restoreAll()</code>.</p>
<h2 id="templates-client"><a name="user-content-templates-client" href="#templates-client" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Templates (Client)</h2>
<h5 id="munithelperstemplatesrendertemplatetemplate-dataobject-function"><code>MunitHelpers.Templates.render(template:Template, data:Object) -&gt; Function</code></h5>
<p>Given a template (e.g. <code>Template.fooBar</code>) and a data context, renders the template and returns a jQuery-like function that only searches within the rendered template.</p>
<p>WARNING: the function renders the template but does not attach the result to the DOM. This means that if your template uses the global <code>$</code> function to select elements within the template, it won&rsquo;t find anything. Instead, your template should use the template-scoped jQuery function. This function can be accessed as <code>this.$</code> in <code>created</code>, <code>rendered</code>, and <code>destroyed</code> callbacks; as <code>Template.instance().$</code> in helpers; and as <code>template.$</code> in event maps, where <code>template</code> is the second argument to the event handler. See the <a href="https://docs.meteor.com/#/full/template_$">Meteor Docs</a> for more details. If you really need to use the global jQuery function, your test can use the return value of <code>render</code> to find the top-level element in your template, and then call <code>appendTo</code> to append it to the DOM, like this:</p>
<pre><code class="javascript">var $ = MunitHelpers.Template.render(Template.myTemplate, {some: &quot;data&quot;});
$(&quot;.top-level-el&quot;).appendTo(&quot;body&quot;);
</code></pre>

<h5 id="munithelperstemplatesrenderlayoutlayouttemplatetemplate-contenttemplatetemplate-dataobject-function"><code>MunitHelpers.Templates.renderLayout(layoutTemplate:Template, contentTemplate:Template, data:Object) -&gt; Function</code></h5>
<p>Given an Iron Layout template, renders it with the content template as the main yield block, using the given data context. Returns a jQuery-like function that only searches within the rendered template. Munit Helpers has a weak dependency on <code>iron:layout</code>, so your app or package must require <code>iron:layout</code> for you to use this function.</p>
<h5 id="munithelperstemplatescreatenamestring-htmlstring-template"><code>MunitHelpers.Templates.create(name:String, html:String) -&gt; Template</code></h5>
<p>Given the name of a template and static HTML content for it, returns the new template. Useful for creating content templates to pass to <code>MunitHelpers.Templates.renderLayout</code>.</p>
<h5 id="munithelperstemplatesrestorejqueryfunction"><code>MunitHelpers.Templates.restore(jquery:Function)</code></h5>
<p>Given the jQuery-like object returned by <code>MunitHelpers.Templates.render</code> or <code>MunitHelpers.Templates.renderLayout</code>, destroys the template to stop reactive updates.</p>
<h5 id="munithelperstemplatesrestoreall"><code>MunitHelpers.Templates.restoreAll()</code></h5>
<p>Restores all templates created by <code>MunitHelpers.Templates.render</code> or <code>MunitHelpers.Templates.renderLayout</code>.</p>
<h2 id="acl-server-only"><a name="user-content-acl-server-only" href="#acl-server-only" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>ACL (Server Only)</h2>
<p>Utilities for testing whether DB operations would be permitted by the package&rsquo;s allow/deny rules. Each of these methods takes the collection to check, the arguments that would be passed to the call, and an optional user. If the user is provided, the allow/deny rules will be run with that user is logged in. These methods return true if the insert was permitted, false if it was forbidden, and raise an error if an allow or deny rule raises an error.</p>
<p>Note that the insert/update/remove is not actually performed &ndash; we stub out the method that would actually do that. If you want to have the collection contain documents (which you probably do when testing update/remove rules), you can stub the collection with <code>MunitHelpers.Collections.stub</code> before calling these methods.</p>
<h5 id="munithelpersaclinsertpermittedcollection-doc-user-boolean"><code>MunitHelpers.ACL.insertPermitted(collection, doc, user) -&gt; Boolean</code></h5>
<h5 id="munithelpersaclupdatepermittedcollection-selector-mutator-user-boolean"><code>MunitHelpers.ACL.updatePermitted(collection, selector, mutator, user) -&gt; Boolean</code></h5>
<h5 id="munithelpersaclremovepermittedcollection-selector-user-boolean"><code>MunitHelpers.ACL.removePermitted(collection, selector, user) -&gt; Boolean</code></h5>
<h2 id="connection-server-only"><a name="user-content-connection-server-only" href="#connection-server-only" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Connection (Server Only)</h2>
<h5 id="munithelpersconnectioncreate-object"><code>MunitHelpers.Connection.create() -&gt; Object</code></h5>
<p>Creates a connection to this server. Returns an object with three properties:</p>
<ul>
<li><code>clientConn</code>, the client end of the connection (as would be returned by <code>DDP.connect</code>)</li>
<li><code>serverConn</code>, the server end of the connection (as would be passed to <code>Meteor.onConnection</code>).</li>
<li><code>restore</code>, which closes down the connection.</li>
</ul>
<p>WARNING: This method does not work with sinon&rsquo;s fake timers. It does work with <code>MunitHelpers.StubDate.stub</code>.</p>
<h5 id="munithelpersconnectionstubloginconnsobject-userobject-function"><code>MunitHelpers.Connection.stubLogin(conns:Object, user:Object) -&gt; Function</code></h5>
<p>Stubs a log-in of the given user and marks that user as logged in to the given connection (pass the object returned by <code>MunitHelpers.Connection.create</code>). Returns a function that restores the stubbing. The stubs can also be restored by calling <code>MunitHelpers.restoreAll()</code>.</p>
<h5 id="munithelpersconnectionrestoreall"><code>MunitHelpers.Connection.restoreAll()</code></h5>
<p>Closes down all connections created by <code>MunitHelpers.Connection.create</code>. This is also done by <code>MunitHelpers.restoreAll()</code>.</p>
<h2 id="publications-server-only"><a name="user-content-publications-server-only" href="#publications-server-only" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Publications (Server Only)</h2>
<h5 id="munithelperspublicationsrunpubnamestring-useroptional-object-argsoptional-array-array"><code>MunitHelpers.Publications.run(pubName:String, user:Optional Object, args:Optional Array) -&gt; Array</code></h5>
<p>Runs the given publish function with the given args, with the given user logged in. Returns an object with three properties:</p>
<ul>
<li><code>collection(name:String) -&gt; Mongo.Collection</code>: Returns a Minimongo collection that&rsquo;s populated with the results of the publish function. This is similar to calling <code>new Mongo.Collection(name)</code> and then <code>Meteor.subscribe(pubName)</code>, but the collection is connected only to the specific subscription you&rsquo;re testing.</li>
<li><code>stop()</code> stops the subscriptions, equivalent to calling <code>stop</code> on the object returned by <code>Meteor.subscribe</code>.</li>
<li><code>ready()</code> returns whether the current subscription is ready (has returned a cursor or called <code>this.ready</code>).</li>
</ul>
<p>WARNING: This internally uses <code>MunitHelpers.Connection.create</code>, which means it won&rsquo;t work with sinon&rsquo;s fake timers. It does work with <code>MunitHelpers.StubDate.stub</code>.</p>
<h1 id="dirty-tricks"><a name="user-content-dirty-tricks" href="#dirty-tricks" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Dirty Tricks</h1>
<p>While we avoid it wherever possible, Munit Helpers does have to use a few undocumented Meteor features. We document them here because they are the most brittle parts of the package. In addition, the unit tests for this package have been designed to break if any of these undocumented features change or are removed.</p>
<ul>
<li>
<p>In <code>MunitHelpers.ACL</code>, we use the internal collection methods <code>_validatedInsert</code>, <code>_validatedRemove</code>, and <code>_validatedUpdate</code> so that allow/deny rules will be run even though we&rsquo;re on the server.</p>
</li>
<li>
<p>In <code>MunitHelpers.Connection.create</code>, we use <code>makeTestConnection</code> from the test-helpers package, which is an undocumented core Meteor package.</p>
</li>
<li>
<p>In <code>MunitHelpers.Connection.stubLogin</code>, we directly modify <code>Meteor.server.sessions</code>, which is an internal data structure Meteor uses to keep track of authentications.</p>
</li>
</ul>
<h1 id="get-involved"><a name="user-content-get-involved" href="#get-involved" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Get Involved</h1>
<p>If you&rsquo;ve found a bug or have a feature request, <a href="https://github.com/tulip/munit-helpers">file an issue on Github</a>.</p>
<p>You also join the <a href="https://groups.google.com/forum/#!forum/munit-helpers">mailing list</a> if you&rsquo;re interested in getting involved with development.</p>
<h1 id="contributing"><a name="user-content-contributing" href="#contributing" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Contributing</h1>
<p>How to submit changes:</p>
<ol>
<li>Fork this repository.</li>
<li>Make your changes, including adding or changing appropriate tests.</li>
<li>Verify all tests pass with <code>meteor test-packages ./</code> and that there are not jshint erros with <code>jshint .</code></li>
<li>Email us as <a href="mailto:opensource@tulip.co">opensource@tulip.co</a> to sign a CLA.</li>
<li>Submit a pull request.</li>
</ol>
<p>Pull requests that change or add features and don&rsquo;t have associated unit tests won&rsquo;t be accepted. If you&rsquo;re planning on implementing a large feature, you should email the mailing list first so we can make sure we&rsquo;re on the same page.</p>
<p>Pull requests must also follow the conventions below and pass jshint using the <code>.jshintrc</code> in this repo.</p>
<h2 id="coding-conventions"><a name="user-content-coding-conventions" href="#coding-conventions" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>Coding Conventions</h2>
<ul>
<li><a href="https://en.wikipedia.org/wiki/Indent_style#Variant:_Stroustrup">Stroustrup Indentation Style</a></li>
<li>Four spaces, no tabs</li>
<li>Trailing newline in all files</li>
<li>Everything in our <a href="/Users/bsw/my-stuff/tulip/code/tulip-repo/environments/cloud/Central/factory/packages/munit-helpers/.jshintrc">jshintrc</a></li>
</ul>
<h1 id="license"><a name="user-content-license" href="#license" class="headeranchor-link" aria-hidden="true"><span class="headeranchor"></span></a>License</h1>
<p>Munit Helpers is licensed under the <a href="/Users/bsw/my-stuff/tulip/code/tulip-repo/environments/cloud/Central/factory/packages/munit-helpers/LICENSE">Apache Public License</a>.</p></article></body></html>